# RabbitMQ Configuration for WWTP Anomaly Detection System

# Networking
listeners.tcp.default = 5672
management.tcp.port = 15672

# Memory and disk management
vm_memory_high_watermark.relative = 0.8
vm_memory_high_watermark_paging_ratio = 0.75
disk_free_limit.relative = 2.0

# Queue settings
default_vhost = /
default_user = admin
default_pass = admin123
default_permissions.configure = .*
default_permissions.read = .*
default_permissions.write = .*

# Clustering (for production)
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config
cluster_formation.classic_config.nodes.1 = rabbit@rabbitmq

# Management plugin
management.listener.port = 15672
management.listener.ssl = false

# Logging
log.file = /var/log/rabbitmq/rabbit.log
log.file.level = info
log.file.rotation.date = $D0
log.file.rotation.size = 10485760

# Connection limits
connection_max = 1000
channel_max = 2000

# Queue length limits
queue_max_length = 10000
message_size_limit = 134217728

# TTL settings
default_consumer_timeout = 900000

# Heartbeat
heartbeat = 60

# TCP settings
tcp_listen_options.backlog = 128
tcp_listen_options.nodelay = true
tcp_listen_options.keepalive = true
tcp_listen_options.exit_on_close = false

# Performance tuning
hipe_compile = false
collect_statistics = fine
collect_statistics_interval = 5000